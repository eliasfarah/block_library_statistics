1- Copiar o arquivo da raiz chamado record_viewed.php no diret처rio /mod/data/classes/event

2- Adicionar C처digo abaixo na linha 1594 ap처s elese do notapproved

if (($_REQUEST['rid'] != '') || ($_REQUEST['mode'] != '')) {            
    // Trigger an event for record viewed.
    $event = \mod_data\event\record_viewed::create(array(
        'objectid' => $data->id,
        'context' => context_module::instance($cm->id),
        'courseid' => $courseid,
        'other' => array(
            'dataid' => $data->id,
            'recordid' => $record->id
        )
    ));
    $event->add_record_snapshot('data_records', $deleterecord);
    $event->trigger();
}

3- Instalar plugin.

4- Adicionar bloco na regi찾o correta.